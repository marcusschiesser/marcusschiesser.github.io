<!DOCTYPE html>
<html lang="en-US" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://www.marcusschiesser.de/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/js/html5.js"></script>
	<![endif]-->
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>Java, Oracle, JBoss - Enterprise Software Development | Marcus Schiesser - Part 2</title>

<!-- All in One SEO Pack 2.2.7.1 by Michael Torbert of Semper Fi Web Design[502,593] -->
<link rel='prev' href='http://www.marcusschiesser.de/' />
<link rel='next' href='http://www.marcusschiesser.de/page/3/' />

<link rel="canonical" href="http://www.marcusschiesser.de/page/2/" />
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="Marcus Schiesser &raquo; Feed" href="http://www.marcusschiesser.de/feed/" />
<link rel="alternate" type="application/rss+xml" title="Marcus Schiesser &raquo; Comments Feed" href="http://www.marcusschiesser.de/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.marcusschiesser.de\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.3.1"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://www.marcusschiesser.de/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://www.marcusschiesser.de/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://www.marcusschiesser.de/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%3A400italic%2C700italic%2C400%2C700%7CNoto+Serif%3A400italic%2C700italic%2C400%2C700%7CInconsolata%3A400%2C700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/genericons/genericons.css?ver=3.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css'  href='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/style.css?ver=4.3.1' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfifteen-ie-css'  href='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/css/ie.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentyfifteen-ie7-css'  href='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/css/ie7.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='http://www.marcusschiesser.de/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://www.marcusschiesser.de/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/www.marcusschiesser.de\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.marcusschiesser.de/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.7.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.marcusschiesser.de/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.marcusschiesser.de/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.3.1" />
		<style>
		.gist table {
			margin-bottom: 0 !important;
		}
		.gist .line-numbers
		{
			width: 4em !important;
		}
		.gist .line,
		.gist .line-number
		{
			font-size: 12px !important;
			height: 18px !important;
			line-height: 18px !important;
		}
		.gist .line
		{
			white-space: pre !important;
			width: auto !important;
			word-wrap: normal !important;
		}
		.gist .line span
		{
			word-wrap: normal !important;
		}
		</style>
		</head>

<body class="home blog paged paged-2">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header" role="banner">
			<div class="site-branding">
										<h1 class="site-title"><a href="http://www.marcusschiesser.de/" rel="home">Marcus Schiesser</a></h1>
											<p class="site-description">Enterprise Software Development with JavaScript and Java</p>
									<button class="secondary-toggle">Menu and widgets</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

		
		
					<div id="widget-area" class="widget-area" role="complementary">
				<aside id="tag_cloud-2" class="widget widget_tag_cloud"><h2 class="widget-title">Topics</h2><div class="tagcloud"><a href='http://www.marcusschiesser.de/tag/actionscript/' class='tag-link-56' title='2 topics' style='font-size: 8pt;'>actionscript</a>
<a href='http://www.marcusschiesser.de/tag/axis2/' class='tag-link-97' title='2 topics' style='font-size: 8pt;'>axis2</a>
<a href='http://www.marcusschiesser.de/tag/backend/' class='tag-link-198' title='2 topics' style='font-size: 8pt;'>backend</a>
<a href='http://www.marcusschiesser.de/tag/bewerbung/' class='tag-link-38' title='2 topics' style='font-size: 8pt;'>bewerbung</a>
<a href='http://www.marcusschiesser.de/tag/button/' class='tag-link-155' title='2 topics' style='font-size: 8pt;'>button</a>
<a href='http://www.marcusschiesser.de/tag/combo/' class='tag-link-126' title='3 topics' style='font-size: 10.333333333333pt;'>combo</a>
<a href='http://www.marcusschiesser.de/tag/component/' class='tag-link-248' title='3 topics' style='font-size: 10.333333333333pt;'>Component</a>
<a href='http://www.marcusschiesser.de/tag/country/' class='tag-link-129' title='2 topics' style='font-size: 8pt;'>country</a>
<a href='http://www.marcusschiesser.de/tag/effekt/' class='tag-link-15' title='2 topics' style='font-size: 8pt;'>Effekt</a>
<a href='http://www.marcusschiesser.de/tag/error/' class='tag-link-107' title='2 topics' style='font-size: 8pt;'>error</a>
<a href='http://www.marcusschiesser.de/tag/ext/' class='tag-link-115' title='7 topics' style='font-size: 16.166666666667pt;'>ext</a>
<a href='http://www.marcusschiesser.de/tag/extjs/' class='tag-link-249' title='15 topics' style='font-size: 22pt;'>ExtJS</a>
<a href='http://www.marcusschiesser.de/tag/facebook/' class='tag-link-23' title='2 topics' style='font-size: 8pt;'>facebook</a>
<a href='http://www.marcusschiesser.de/tag/feed/' class='tag-link-25' title='2 topics' style='font-size: 8pt;'>feed</a>
<a href='http://www.marcusschiesser.de/tag/field/' class='tag-link-137' title='3 topics' style='font-size: 10.333333333333pt;'>field</a>
<a href='http://www.marcusschiesser.de/tag/flash/' class='tag-link-71' title='2 topics' style='font-size: 8pt;'>flash</a>
<a href='http://www.marcusschiesser.de/tag/flex/' class='tag-link-14' title='15 topics' style='font-size: 22pt;'>Flex</a>
<a href='http://www.marcusschiesser.de/tag/form/' class='tag-link-128' title='2 topics' style='font-size: 8pt;'>form</a>
<a href='http://www.marcusschiesser.de/tag/spas/' class='tag-link-244' title='4 topics' style='font-size: 12.277777777778pt;'>Fun</a>
<a href='http://www.marcusschiesser.de/tag/google/' class='tag-link-69' title='2 topics' style='font-size: 8pt;'>google</a>
<a href='http://www.marcusschiesser.de/tag/grid/' class='tag-link-113' title='3 topics' style='font-size: 10.333333333333pt;'>grid</a>
<a href='http://www.marcusschiesser.de/tag/handler/' class='tag-link-58' title='2 topics' style='font-size: 8pt;'>handler</a>
<a href='http://www.marcusschiesser.de/tag/html/' class='tag-link-94' title='2 topics' style='font-size: 8pt;'>html</a>
<a href='http://www.marcusschiesser.de/tag/ideen/' class='tag-link-19' title='3 topics' style='font-size: 10.333333333333pt;'>Ideen</a>
<a href='http://www.marcusschiesser.de/tag/info/' class='tag-link-78' title='2 topics' style='font-size: 8pt;'>info</a>
<a href='http://www.marcusschiesser.de/tag/java/' class='tag-link-250' title='6 topics' style='font-size: 15.194444444444pt;'>Java</a>
<a href='http://www.marcusschiesser.de/tag/javascript/' class='tag-link-101' title='4 topics' style='font-size: 12.277777777778pt;'>javascript</a>
<a href='http://www.marcusschiesser.de/tag/jboss-2/' class='tag-link-186' title='2 topics' style='font-size: 8pt;'>jboss</a>
<a href='http://www.marcusschiesser.de/tag/jersey/' class='tag-link-175' title='3 topics' style='font-size: 10.333333333333pt;'>jersey</a>
<a href='http://www.marcusschiesser.de/tag/job/' class='tag-link-39' title='2 topics' style='font-size: 8pt;'>job</a>
<a href='http://www.marcusschiesser.de/tag/json/' class='tag-link-72' title='3 topics' style='font-size: 10.333333333333pt;'>json</a>
<a href='http://www.marcusschiesser.de/tag/map/' class='tag-link-70' title='3 topics' style='font-size: 10.333333333333pt;'>map</a>
<a href='http://www.marcusschiesser.de/tag/mashup/' class='tag-link-11' title='5 topics' style='font-size: 13.833333333333pt;'>Mashup</a>
<a href='http://www.marcusschiesser.de/tag/message/' class='tag-link-103' title='2 topics' style='font-size: 8pt;'>message</a>
<a href='http://www.marcusschiesser.de/tag/sonstiges/' class='tag-link-243' title='3 topics' style='font-size: 10.333333333333pt;'>Other</a>
<a href='http://www.marcusschiesser.de/tag/pictures/' class='tag-link-66' title='2 topics' style='font-size: 8pt;'>pictures</a>
<a href='http://www.marcusschiesser.de/tag/pojo/' class='tag-link-99' title='2 topics' style='font-size: 8pt;'>pojo</a>
<a href='http://www.marcusschiesser.de/tag/presse/' class='tag-link-8' title='2 topics' style='font-size: 8pt;'>Presse</a>
<a href='http://www.marcusschiesser.de/tag/programmierung/' class='tag-link-4' title='3 topics' style='font-size: 10.333333333333pt;'>Programmierung</a>
<a href='http://www.marcusschiesser.de/tag/proxy/' class='tag-link-118' title='2 topics' style='font-size: 8pt;'>proxy</a>
<a href='http://www.marcusschiesser.de/tag/rails/' class='tag-link-247' title='2 topics' style='font-size: 8pt;'>Rails</a>
<a href='http://www.marcusschiesser.de/tag/rest/' class='tag-link-180' title='2 topics' style='font-size: 8pt;'>rest</a>
<a href='http://www.marcusschiesser.de/tag/selector/' class='tag-link-130' title='4 topics' style='font-size: 12.277777777778pt;'>selector</a>
<a href='http://www.marcusschiesser.de/tag/web-20/' class='tag-link-6' title='4 topics' style='font-size: 12.277777777778pt;'>Web 2.0</a>
<a href='http://www.marcusschiesser.de/tag/wordpress/' class='tag-link-246' title='2 topics' style='font-size: 8pt;'>Wordpress</a></div>
</aside><aside id="linkcat-2" class="widget widget_links"><h2 class="widget-title">Blogroll</h2>
	<ul class='xoxo blogroll'>
<li><a href="http://pdf.venedo.com/" rel="friend met" title="A blog about PDFs without barriers">Accessible PDFs</a></li>
<li><a href="http://www.best-practice-business.de/blog/" title="Business Ideen und Lösungen">best-practice-business</a></li>
<li><a href="http://blog.digitalbackcountry.com/" title="Blog über RIAs von Ryan Stewart, Technological Evangelist bei Adobe">Digital Backcountry</a></li>
<li><a href="http://juriswritings.blogspot.de/">Juri&#039;s Writings &#8211; Software, technology and science.</a></li>
<li><a href="http://radar.oreilly.com/">O&#8217;Reilly Radar</a></li>
<li><a href="http://blog.stefanbotzenhart.com/" rel="contact met co-worker">Stefan Botzenhart</a></li>
<li><a href="http://www.turngeek.press" title="Turngeek press &#8211; Online Java books" target="_blank">Turngeek press</a></li>

	</ul>
</aside>
			</div><!-- .widget-area -->
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
			
<article id="post-557" class="post-557 post type-post status-publish format-standard hentry category-extjs tag-columns tag-dynamic tag-extjs tag-grid tag-structure">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="http://www.marcusschiesser.de/2013/12/21/dynamically-changing-the-structure-of-a-grid-in-extjs-4-2/" rel="bookmark">Dynamically Changing the Structure of a Grid in ExtJS 4.2</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>If you have a grid in ExtJS, it might happen that you want to change the columns of the grid depending on the data you receive from the server.<br />
In my new pet project <a href="https://github.com/marcusschiesser/bulks">Bulks</a> I was facing this exact problem, so I thought it might be worth sharing the solution with you.<br />
In the example below we try to render differently structured JSON arrays in the same grid. The function <code>getKeysFromJson</code> retrieves the keys from such an array. With this<br />
information we can build the ExtJS columns array easily in the <code>createColumns</code> function by <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">mapping</a> each key to a column definition object.<br />
The function <code>createStore</code> further shows us how to create an ExtJS store from the JSON and the keys array.<br />
The store and the columns array are needed to call the <a href="http://docs.sencha.com/extjs/4.2.2/#!/api/Ext.grid.Panel-method-reconfigure">reconfigure</a> function of the ExtJS grid which changes the data and column layout of the grid.<br />
Play with the following small example &#8211; I hope it demonstrates the idea:</p>
<p><iframe width="100%" height="300" src="http://jsfiddle.net/marcusschiesser/GvGCX/embedded/" allowfullscreen="allowfullscreen" frameborder="0"></iframe></p>
<p>BTW: Don&#8217;t wonder about the Chinese characters, I am just trying to learn that language and as everyone I am very happy being able to write my first characters&#8230;</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://www.marcusschiesser.de/2013/12/21/dynamically-changing-the-structure-of-a-grid-in-extjs-4-2/" rel="bookmark"><time class="entry-date published" datetime="2013-12-21T08:39:51+00:00">December 21, 2013</time><time class="updated" datetime="2013-12-20T18:49:14+00:00">December 20, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://www.marcusschiesser.de/category/technologie/extjs/" rel="category tag">ExtJS</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://www.marcusschiesser.de/tag/columns/" rel="tag">columns</a>, <a href="http://www.marcusschiesser.de/tag/dynamic/" rel="tag">dynamic</a>, <a href="http://www.marcusschiesser.de/tag/extjs/" rel="tag">ExtJS</a>, <a href="http://www.marcusschiesser.de/tag/grid/" rel="tag">grid</a>, <a href="http://www.marcusschiesser.de/tag/structure/" rel="tag">structure</a></span><span class="comments-link"><a href="http://www.marcusschiesser.de/2013/12/21/dynamically-changing-the-structure-of-a-grid-in-extjs-4-2/#comments"><span class="dsq-postid" data-dsqidentifier="557 http://www.marcusschiesser.de/?p=557">3 Comments<span class="screen-reader-text"> on Dynamically Changing the Structure of a Grid in ExtJS 4.2</span></span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

<article id="post-544" class="post-544 post type-post status-publish format-standard hentry category-extjs tag-button tag-dataview tag-extjs tag-listener">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="http://www.marcusschiesser.de/2013/06/10/adding-buttons-in-a-dataview-using-extjs-4-2/" rel="bookmark">Adding Buttons in a Dataview using ExtJS 4.2</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>If you have a dataview in your ExtJS application, it might be possible that you want to add some action buttons for each of its items. With some good old Javascript this is actually quite easy.<br />
You just have to create a template that contains the HTML markup for the button and give it a distinguishable class name. In the <code>itemmousedown</code> listener of the dataview you later check for the class name.<br />
Here&#8217;s a small example that uses this approach: </p>
<p><iframe src="http://jsfiddle.net/marcusschiesser/M2scs/embedded/" height="300" width="100%" allowfullscreen="allowfullscreen" frameborder="0"></iframe></p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://www.marcusschiesser.de/2013/06/10/adding-buttons-in-a-dataview-using-extjs-4-2/" rel="bookmark"><time class="entry-date published updated" datetime="2013-06-10T23:12:58+00:00">June 10, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://www.marcusschiesser.de/category/technologie/extjs/" rel="category tag">ExtJS</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://www.marcusschiesser.de/tag/button/" rel="tag">button</a>, <a href="http://www.marcusschiesser.de/tag/dataview/" rel="tag">dataview</a>, <a href="http://www.marcusschiesser.de/tag/extjs/" rel="tag">ExtJS</a>, <a href="http://www.marcusschiesser.de/tag/listener/" rel="tag">listener</a></span><span class="comments-link"><a href="http://www.marcusschiesser.de/2013/06/10/adding-buttons-in-a-dataview-using-extjs-4-2/#respond"><span class="dsq-postid" data-dsqidentifier="544 http://www.marcusschiesser.de/?p=544">Leave a comment<span class="screen-reader-text"> on Adding Buttons in a Dataview using ExtJS 4.2</span></span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

<article id="post-532" class="post-532 post type-post status-publish format-standard hentry category-sonstiges tag-filter tag-play tag-play-2-1 tag-scala-2 tag-security">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="http://www.marcusschiesser.de/2013/04/27/securing-your-play-2-1-1-web-application-using-a-filter/" rel="bookmark">Securing Your Play 2.1.1 Web Application Using a Filter</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>After deploying my <a href="http://www.playframework.com/">Play 2.1.1</a> based application to <a href="http://www.cloudbees.com/">Cloudbees</a>, I had the problem that everyone could access it. Not very ideal if you want to restrict your program to only a single audience.</p>
<p>To solve the problem you would usually write a complicated user-based authentication system. Slightly an overkill, if you don&#8217;t need different users accessing your program at all. My idea was more that the user has to add an URL parameter with a secret key, the first time the application is called. For later requests the key would just be stored in the session object.</p>
<p>That way you basically access the program via the following URL:<br />
<code>http://myapp.cloudbees.net/?access_key=secret</code><br />
instead of just using:<br />
<code>http://myapp.cloudbees.net</code></p>
<p>The solution is quite simple. You just have to add a <a href="http://www.playframework.com/documentation/api/2.1.1/scala/index.html#play.api.mvc.Filter">Filter</a> that is checking every request. If the desired URL parameter is passed the request will be processed as usual. If not, we just log the potential threat and return a <a href="http://en.wikipedia.org/wiki/HTTP_404">404</a> (IMHO way better than returning a <a href="http://en.wikipedia.org/wiki/HTTP_401#4xx_Client_Error">401</a> and motivate the intruder that way to hack your site).<br />
Let&#8217;s have a look at the following object called <code>AuthFilter</code>: </p>
<div class="oembed-gist"><script src="https://gist.github.com/marcusschiesser/5474213.js"></script><noscript>View the code on <a href="https://gist.github.com/marcusschiesser/5474213">Gist</a>.</noscript></div>
<p>Don&#8217;t blame me if the code above is not ideal &#8211; it&#8217;s not only my first program using Play but also using Scala. </p>
<p>To activate the filter, you have to enhance the <code>Global</code> object (store it in the default package):</p>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6367510364057" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Scala</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import play.api.mvc.WithFilters
import util.AuthFilter

object Global extends WithFilters(AuthFilter)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6367510364057-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6367510364057-2">2</div><div class="crayon-num" data-line="crayon-57a01815c6367510364057-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6367510364057-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6367510364057-1"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">play</span><span class="crayon-sy">.</span><span class="crayon-v">api</span><span class="crayon-sy">.</span><span class="crayon-v">mvc</span><span class="crayon-sy">.</span><span class="crayon-e">WithFilters</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6367510364057-2"><span class="crayon-r">import</span><span class="crayon-h"> </span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-e">AuthFilter</span></div><div class="crayon-line" id="crayon-57a01815c6367510364057-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6367510364057-4"><span class="crayon-r">object</span><span class="crayon-h"> </span><span class="crayon-m">Global</span><span class="crayon-h"> </span><span class="crayon-r">extends</span><span class="crayon-h"> </span><span class="crayon-e">WithFilters</span><span class="crayon-sy">(</span><span class="crayon-v">AuthFilter</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p></p>
<p>You may wonder about the method <code>validSession</code> in the <code>AuthFilter</code>. It&#8217;s purpose is to add a valid token in your unit tests. Here&#8217;s an example with a <a href="http://www.playframework.com/documentation/api/2.1.1/scala/index.html#play.api.test.FakeRequest">FakeRequest</a> to /:</p>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6370542141709" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Scala</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
route(FakeRequest(GET, "/").withSession(AuthFilter.validSession)).get</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6370542141709-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6370542141709-1"><span class="crayon-e">route</span><span class="crayon-sy">(</span><span class="crayon-e">FakeRequest</span><span class="crayon-sy">(</span><span class="crayon-v">GET</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">withSession</span><span class="crayon-sy">(</span><span class="crayon-v">AuthFilter</span><span class="crayon-sy">.</span><span class="crayon-v">validSession</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">get</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p></p>
<p>Have fun hiding your applications! Don&#8217;t forget that the secret key is transferred unencrypted. So if you need some extra security, add SSL. Unfortunately this cost something on <a href="http://developer.cloudbees.com/bin/view/RUN/AppSSL">Cloudbees</a>&#8230;. </p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://www.marcusschiesser.de/2013/04/27/securing-your-play-2-1-1-web-application-using-a-filter/" rel="bookmark"><time class="entry-date published" datetime="2013-04-27T19:56:46+00:00">April 27, 2013</time><time class="updated" datetime="2015-01-03T10:09:39+00:00">January 3, 2015</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://www.marcusschiesser.de/category/sonstiges/" rel="category tag">Other</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://www.marcusschiesser.de/tag/filter/" rel="tag">filter</a>, <a href="http://www.marcusschiesser.de/tag/play/" rel="tag">play</a>, <a href="http://www.marcusschiesser.de/tag/play-2-1/" rel="tag">play 2.1</a>, <a href="http://www.marcusschiesser.de/tag/scala-2/" rel="tag">scala</a>, <a href="http://www.marcusschiesser.de/tag/security/" rel="tag">security</a></span><span class="comments-link"><a href="http://www.marcusschiesser.de/2013/04/27/securing-your-play-2-1-1-web-application-using-a-filter/#respond"><span class="dsq-postid" data-dsqidentifier="532 http://www.marcusschiesser.de/?p=532">Leave a comment<span class="screen-reader-text"> on Securing Your Play 2.1.1 Web Application Using a Filter</span></span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

<article id="post-503" class="post-503 post type-post status-publish format-standard hentry category-java tag-how-to tag-jboss-2 tag-jboss-7 tag-jsf tag-jsf-2-2 tag-mojarra">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="http://www.marcusschiesser.de/2013/01/17/how-to-use-jsf-2-2-with-jboss-7-1/" rel="bookmark">How to use JSF 2.2 with JBoss 7.1</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>As the new JSF 2.2 is nearly finished, we all want to play with <a href="http://jdevelopment.nl/jsf-22/">the new features of it</a>. </p>
<p><a href="http://blog.eisele.net/">Markus Eisele</a> has shown in his blog post <a href="http://blog.eisele.net/2013/01/testdriving-mojarra-220-m08-on.html">Testdriving Mojarra 2.2.0-m08</a> how to do this with Glassfish 3. He&#8217;s German too, I begin to wonder if only we guys are that curious or no one else is using JSF any more 😉 </p>
<p>Unfortunately with JBoss 7 we face the same problem he had: We can not just add the new libraries to our WAR archive as they will clash with the JSF 2.1 version of Mojarra (the reference implementation of JSF) already provided by JBoss 7.<br />
So basically we have to disable this old version and activate the new version directly in the application server.</p>
<p>I will show you how to do it with JBoss 7.1.1 and the M08 release of Mojarra 2.2, but it should work for other versions the very same way:</p>
<p>JSF is divided into two parts: The implementation and the API. </p>
<p>We firstly exchange the former one by starting to <a href="https://maven.java.net/content/repositories/releases/com/sun/faces/jsf-impl/2.2.0-m08/jsf-impl-2.2.0-m08.jar">download jsf-impl-2.2.0-m08.jar</a>, which is the JAR archive containing the implementation.<br />
After downloading, copy this archive to the folder of the old JSF implementation of your JBoss installation, which will be <code>%JBOSS_HOME%/modules/com/sun/jsf-impl/main</code> in that case.<br />
In the same directory you will find a file called <code>module.xml</code>. Edit it and change the contents of the <code>resources</code> tag like this:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6aca591573823" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;resources&gt;
    &lt;resource-root path="jsf-impl-2.2.0-m08.jar"/&gt;
&lt;/resources&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6aca591573823-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6aca591573823-2">2</div><div class="crayon-num" data-line="crayon-57a01815c6aca591573823-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6aca591573823-1"><span class="crayon-r">&lt;resources&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6aca591573823-2"><span class="crayon-i">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">&lt;resource-root </span><span class="crayon-e">path</span><span class="crayon-o">=</span><span class="crayon-s">"jsf-impl-2.2.0-m08.jar"</span><span class="crayon-r">/&gt;</span></div><div class="crayon-line" id="crayon-57a01815c6aca591573823-3"><span class="crayon-r">&lt;/resources&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>This is important as it tells JBoss which of the provided JAR archives (now there are two of them) to use. If you want to know more about this: Take a look at <a href="https://docs.jboss.org/author/display/MODULES/Home">JBoss Modules</a>, a module class loading approach JBoss 7 is using.<br />
After that you have finished with exchanging the implementation and basically you have to do the same for the API part:</p>
<p>Firstly download the <a href="https://maven.java.net/content/repositories/releases/com/sun/faces/jsf-api/2.2.0-m08/jsf-api-2.2.0-m08.jar">jsf-api-2.2.0-m08.jar</a> archive and copy it to <code>%JBOSS_HOME%/modules/javax/faces/api/main</code>. Secondly edit the <code>module.xml</code> in the same directory by exchanging the resources tag:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6ad2613404271" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;resources&gt;
    &lt;resource-root path="jsf-api-2.2.0-m08.jar"/&gt;
&lt;/resources&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6ad2613404271-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6ad2613404271-2">2</div><div class="crayon-num" data-line="crayon-57a01815c6ad2613404271-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6ad2613404271-1"><span class="crayon-r">&lt;resources&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6ad2613404271-2"><span class="crayon-i">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">&lt;resource-root </span><span class="crayon-e">path</span><span class="crayon-o">=</span><span class="crayon-s">"jsf-api-2.2.0-m08.jar"</span><span class="crayon-r">/&gt;</span></div><div class="crayon-line" id="crayon-57a01815c6ad2613404271-3"><span class="crayon-r">&lt;/resources&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Basically you should be finished now, but there is a bug in the milestone 8 of the API that it has a dependency to the implementation. For that reason you have to declare it by adding the following contents to the <code>dependencies</code> tag of the same <code>module.xml</code> file:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6ad7443566753" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;module name="com.sun.jsf-impl"/&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6ad7443566753-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6ad7443566753-1"><span class="crayon-r">&lt;module </span><span class="crayon-e">name</span><span class="crayon-o">=</span><span class="crayon-s">"com.sun.jsf-impl"</span><span class="crayon-r">/&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<p>After that you can restart your modified JBoss instance. As JSF is lazily loaded you have to deploy a WAR referencing JSF to check whether our changes work. If so, you should see a log message like this:</p>
<p><code>[javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-2) Mojarra 2.2.0-m08</code> </p>
<p>Finally, if you want to use the new features in application, you have to add the following dependency to your <code>pom.xml</code>:</p>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6adb880845368" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
&lt;dependency&gt;
   &lt;groupId&gt;com.sun.faces&lt;/groupId&gt;
   &lt;artifactId&gt;jsf-api&lt;/artifactId&gt;
   &lt;version&gt;2.2.0-m08&lt;/version&gt;
   &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6adb880845368-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6adb880845368-2">2</div><div class="crayon-num" data-line="crayon-57a01815c6adb880845368-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6adb880845368-4">4</div><div class="crayon-num" data-line="crayon-57a01815c6adb880845368-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6adb880845368-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6adb880845368-1"><span class="crayon-r">&lt;dependency&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6adb880845368-2"><span class="crayon-i">&nbsp;&nbsp; </span><span class="crayon-r">&lt;groupId&gt;</span><span class="crayon-i">com.sun.faces</span><span class="crayon-r">&lt;/groupId&gt;</span></div><div class="crayon-line" id="crayon-57a01815c6adb880845368-3"><span class="crayon-i">&nbsp;&nbsp; </span><span class="crayon-r">&lt;artifactId&gt;</span><span class="crayon-i">jsf-api</span><span class="crayon-r">&lt;/artifactId&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6adb880845368-4"><span class="crayon-i">&nbsp;&nbsp; </span><span class="crayon-r">&lt;version&gt;</span><span class="crayon-i">2.2.0-m08</span><span class="crayon-r">&lt;/version&gt;</span></div><div class="crayon-line" id="crayon-57a01815c6adb880845368-5"><span class="crayon-i">&nbsp;&nbsp; </span><span class="crayon-r">&lt;scope&gt;</span><span class="crayon-i">provided</span><span class="crayon-r">&lt;/scope&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6adb880845368-6"><span class="crayon-r">&lt;/dependency&gt;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p></p>
<p>And now have fun using JSF 2.2!</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://www.marcusschiesser.de/2013/01/17/how-to-use-jsf-2-2-with-jboss-7-1/" rel="bookmark"><time class="entry-date published updated" datetime="2013-01-17T01:17:11+00:00">January 17, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://www.marcusschiesser.de/category/technologie/java/" rel="category tag">Java</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://www.marcusschiesser.de/tag/how-to/" rel="tag">how to</a>, <a href="http://www.marcusschiesser.de/tag/jboss-2/" rel="tag">jboss</a>, <a href="http://www.marcusschiesser.de/tag/jboss-7/" rel="tag">jboss 7</a>, <a href="http://www.marcusschiesser.de/tag/jsf/" rel="tag">jsf</a>, <a href="http://www.marcusschiesser.de/tag/jsf-2-2/" rel="tag">jsf 2.2</a>, <a href="http://www.marcusschiesser.de/tag/mojarra/" rel="tag">mojarra</a></span><span class="comments-link"><a href="http://www.marcusschiesser.de/2013/01/17/how-to-use-jsf-2-2-with-jboss-7-1/#comments"><span class="dsq-postid" data-dsqidentifier="503 http://www.marcusschiesser.de/?p=503">1 Comment<span class="screen-reader-text"> on How to use JSF 2.2 with JBoss 7.1</span></span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

<article id="post-498" class="post-498 post type-post status-publish format-standard hentry category-java tag-app-engine tag-ejb tag-java tag-transactions">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="http://www.marcusschiesser.de/2013/01/05/doing-ejb-like-transactions-with-google-app-engine/" rel="bookmark">Doing EJB-like transactions with Google App Engine</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Using Google App Engine you can&#8217;t define a method as transactional with a simple annotation as you can in EJB.<br />
You always need to call some boilerplate code which gets quite annoying.<br />
Therefore the following utility class comes handy, which takes care of the transaction handling for you:</p>
<div class="oembed-gist"><script src="https://gist.github.com/marcusschiesser/5474348.js"></script><noscript>View the code on <a href="https://gist.github.com/marcusschiesser/5474348">Gist</a>.</noscript></div>
<p>To make use of it, you have to set the same <a href="https://developers.google.com/appengine/docs/java/datastore/jpa/overview">persistence unit</a> as in your <code>persistence.xml</code> configuration file first. Do this by changing the parameter of the method <code>createEntityManagerFactory</code>. </p>
<p>After that you can easily define transcation boundaries like this:</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-57a01815c6ef8567168307" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Java</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
TXUtils.doTransaction(new TXUtils.Transaction&lt;String&gt;() {
    public String doit(EntityManager em) {
	// do something with the EntityManager
    }
});</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-57a01815c6ef8567168307-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6ef8567168307-2">2</div><div class="crayon-num" data-line="crayon-57a01815c6ef8567168307-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-57a01815c6ef8567168307-4">4</div><div class="crayon-num" data-line="crayon-57a01815c6ef8567168307-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-57a01815c6ef8567168307-1"><span class="crayon-v">TXUtils</span><span class="crayon-sy">.</span><span class="crayon-e">doTransaction</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TXUtils</span><span class="crayon-sy">.</span><span class="crayon-v">Transaction</span><span class="crayon-e">&lt;String&gt;</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6ef8567168307-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">doit</span><span class="crayon-sy">(</span><span class="crayon-e">EntityManager </span><span class="crayon-v">em</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-57a01815c6ef8567168307-3"><span class="crayon-h">	</span><span class="crayon-c">// do something with the EntityManager</span></div><div class="crayon-line crayon-striped-line" id="crayon-57a01815c6ef8567168307-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-57a01815c6ef8567168307-5"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>In this example the transaction method has a return type of <code>String</code> &#8211; change this if you need a different one.<br />
The transaction is always starting a new transaction, similar to <code>REQUIRES_NEW</code> in EJB (more about that in the <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bncij.html">Java EE 6 tutorial</a>). If you want to use another transaction strategy, you will have to modify the code.<br />
It is still not as easy as setting an annotation in EJB, but way better than without. If you want to define transactions for Google App Engine via annotations, you will need some DI engine like <a href="http://code.google.com/p/google-guice/">Guice</a> or <a href="http://www.seamframework.org/Weld">CDI</a>, but then you add a lot of other code that you probably don&#8217;t need.</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">Posted on </span><a href="http://www.marcusschiesser.de/2013/01/05/doing-ejb-like-transactions-with-google-app-engine/" rel="bookmark"><time class="entry-date published" datetime="2013-01-05T13:10:03+00:00">January 5, 2013</time><time class="updated" datetime="2013-04-27T20:26:56+00:00">April 27, 2013</time></a></span><span class="cat-links"><span class="screen-reader-text">Categories </span><a href="http://www.marcusschiesser.de/category/technologie/java/" rel="category tag">Java</a></span><span class="tags-links"><span class="screen-reader-text">Tags </span><a href="http://www.marcusschiesser.de/tag/app-engine/" rel="tag">app engine</a>, <a href="http://www.marcusschiesser.de/tag/ejb/" rel="tag">ejb</a>, <a href="http://www.marcusschiesser.de/tag/java/" rel="tag">Java</a>, <a href="http://www.marcusschiesser.de/tag/transactions/" rel="tag">transactions</a></span><span class="comments-link"><a href="http://www.marcusschiesser.de/2013/01/05/doing-ejb-like-transactions-with-google-app-engine/#respond"><span class="dsq-postid" data-dsqidentifier="498 http://www.marcusschiesser.de/?p=498">Leave a comment<span class="screen-reader-text"> on Doing EJB-like transactions with Google App Engine</span></span></a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-## -->

	<nav class="navigation pagination" role="navigation">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><a class="prev page-numbers" href="http://www.marcusschiesser.de/">Previous page</a>
<a class='page-numbers' href='http://www.marcusschiesser.de/'><span class="meta-nav screen-reader-text">Page </span>1</a>
<span class='page-numbers current'><span class="meta-nav screen-reader-text">Page </span>2</span>
<a class='page-numbers' href='http://www.marcusschiesser.de/page/3/'><span class="meta-nav screen-reader-text">Page </span>3</a>
<span class="page-numbers dots">&hellip;</span>
<a class='page-numbers' href='http://www.marcusschiesser.de/page/16/'><span class="meta-nav screen-reader-text">Page </span>16</a>
<a class="next page-numbers" href="http://www.marcusschiesser.de/page/3/">Next page</a></div>
	</nav>
		</main><!-- .site-main -->
	</div><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
						<a href="https://wordpress.org/">Proudly powered by WordPress</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script type='text/javascript' src='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/js/skip-link-focus-fix.js?ver=20141010'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">expand child menu<\/span>","collapse":"<span class=\"screen-reader-text\">collapse child menu<\/span>"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.marcusschiesser.de/wp-content/themes/twentyfifteen/js/functions.js?ver=20150330'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var countVars = {"disqusShortname":"marcusschiesser"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.marcusschiesser.de/wp-content/plugins/disqus-comment-system/media/js/count.js?ver=4.3.1'></script>

</body>
</html>
